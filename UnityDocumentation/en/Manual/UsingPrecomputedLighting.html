<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MC35ML');</script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Using precomputed lighting</title>
<meta name="description" content="The Unity Manual helps you learn and use the Unity engine. With the Unity engine you can create 2D and 3D games, apps and experiences.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1503756017"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1503756017"></script><script type="text/javascript" src="docdata/toc.js?ts=1503756017"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1503756017"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1503756017">
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-number">Version: <b>2017.1</b> (<a href="https://docs.unity3d.com/2017.2/Documentation/Manual">switch to 2017.2b</a>)</div>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UsingPrecomputedLighting.html">English</a></li>
<li><a href="/ja/current/Manual/UsingPrecomputedLighting.html">日本語</a></li>
<li><a href="/es/current/Manual/UsingPrecomputedLighting.html">Español</a></li>
<li><a href="/kr/current/Manual/UsingPrecomputedLighting.html">한국어</a></li>
<li><a href="/ru/current/Manual/UsingPrecomputedLighting.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2017.1)</a></li>
<li><a href="Graphics.html">Graphics</a></li>
<li><a href="GraphicsOverview.html">Graphics Overview</a></li>
<li><a href="LightingOverview.html">Lighting</a></li>
<li><a href="GIIntro.html">Global Illumination</a></li>
<li> Using precomputed lighting</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="GIIntro.html"></a></span><div class="tip">Global Illumination</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="LightingBakedAmbientOcclusion.html"></a></span><div class="tip"> Baked ambient occlusion</div>
</div>
</div></div>
<div class="otherversionswrapper" onmouseover="setOtherVersionsDisplay(true)" onmouseout="setOtherVersionsDisplay(false)">
<a>Other Versions</a><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">Cannot access other versions offline!</div>
</div>
<h1>Using precomputed lighting</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>In Unity, precomputed lighting is calculated in the background either as an automatic process or when manually initiated. In either case, it is possible to continue working in the editor while these processes run behind the scenes.</p>

<p>When the precompute process is running, a blue progress bar will appear in the bottom right of the Editor. There are different stages which need to be completed depending on whether Baked GI or Precomputed Realtime GI is enabled. Information on the current process is shown on-top of the progress bar.</p>

<figure>
<img src="../uploads/GlobalIllumination/BakingJobs.png" alt="">
</figure>

<p>Progress bar showing the current state of Unity’s precompute.</p>

<p>In the example above, we can see that we are at task 5 of 11 which is, ‘Clustering’ and there are 6 jobs remaining before that task is complete and the precompute moves on to task 6. The various stages are listed below:</p>

<p><strong>Precomputed Realtime GI</strong></p>

<ol>
<li>Create Geometry</li>
<li>Layout Systems</li>
<li>Create Systems</li>
<li>Create Atlas</li>
<li>Clustering</li>
<li>Visibility</li>
<li>Light Transport</li>
<li>Tetrahedralize Probes</li>
<li>Create ProbeSet</li>
</ol>

<p><strong>Probes</strong></p>

<ol>
<li>Ambient Probes</li>
<li>Baked/Realtime Ref. Probes</li>
</ol>

<p><strong>Baked GI</strong></p>

<ol>
<li>Create Geometry</li>
<li>Atlassing</li>
<li>Create Baked Systems</li>
<li>Baked Resources</li>
<li>Bake AO</li>
<li>Export Baked Texture</li>
<li>Bake Visibility</li>
<li>Bake Direct</li>
<li>Ambient and Emissive</li>
<li>Create Bake Systems</li>
<li>Bake Runtime</li>
<li>Upsampling Visibility</li>
<li>Bake Indirect</li>
<li>Final Gather</li>
<li>Bake ProbesSet</li>
<li>Compositing</li>
</ol>

<h2>Starting a precompute</h2>

<p>Only static geometry is considered by Unity’s precomputed lighting solutions. To begin the lighting precompute process we need at least one GameObject marked as ‘static’ in our scene. This can either be done individually, or by shift-selecting multiple GameObjects from the hierarchy panel.</p>

<p>From the Inspector panel, the Static checkbox can be selected (<strong>Inspector &gt; Static</strong>). This will set all of the GameObject’s ‘static options’, or ‘flags’, including navigation and batching, to be static, which may not be desirable. For Precomputed Realtime GI, only ‘Lightmap Static’ needs to be checked.</p>

<p>For more fine-grained control, individual static options can be set from the drop-down list accessible to the right of the Static checkbox in the Inspector panel. Additionally, objects can also be set to Static in the Object area of the lighting window.</p>

<p>If you set your Scene to <strong>Auto Generate</strong> (menu: <strong>Window</strong> &gt; <strong>Lighting</strong> &gt; <strong>Settings</strong> &gt; <strong>Scene</strong> &gt; <strong>Auto Generate</strong>), Unity’s lighting precompute begins automatically, and updates automatically when any static geometry in your Scene changes. If you do not enable <strong>Auto Generate</strong>, you must start the lighting precompute manually.</p>

<h2>Auto/manual precompute</h2>

<p>If you have checked <strong>Auto Generate</strong> in the bottom of Unity’s Lighting panel (menu: <strong>Window</strong> &gt; <strong>Lighting &gt; Settings &gt; Scene &gt; Auto Generate</strong>), this precompute begins automatically as a background process whenever the static geometry within your Scene changes.</p>

<p>However, if you have not enabled <strong>Auto Generate</strong>, you must manually start the lighting precompute process by clicking the ‘Build’ button next to it. This begins the precompute in much the same way, and gives you control over when this process starts. </p>

<p>
<strong>Auto Generate </strong>can be useful when working on smaller or less complex Scenes, because it quickly produces accurate lighting results while you move or editing static GameObjects in your Scene. However, when working on large or complex Scenes, you might prefer to switch to the manual option, so that your computer is not running a high CPU usage and repeatedly re-starting the lighting precompute each time you modify your Scene.</p>

<p>When you manually initiate a precompute, all aspects of your Scene lighting are evaluated and computed. To recalculate and bake just the <a href="class-ReflectionProbe.html">Reflection Probes</a> by themselves, click the drop-down menu attached to the <strong>Generate Lighting </strong>button (menu: <strong>Window</strong> &gt; <strong>Lighting &gt; Settings &gt; Scene &gt; Generate Lighting</strong>) and select <strong>Bake Reflection Probes</strong>. </p>

<p>
<strong>NOTE:</strong> When using <strong>Auto Generate</strong> mode, Unity stores your lighting data in a temporary cache with a limited size. This means that when you exceed the cache’s size, Unity deletes old lighting data. A problem might occur when building your project if some of your Scenes rely on auto-generated lighting data that has been deleted. In this case, your Scenes might not have the correct lighting in the built project. Therefore, before building your game, you should uncheck <strong>Auto Generate, </strong>and generate the lighting data manually for all your Scenes. Unity then saves your lighting data as Asset files in your project folder, which means you have the data saved as part of your project and included in your build.</p>

<h2>Enabling Baked GI or Realtime GI</h2>

<p>Unity enables both <strong>Baked GI</strong> and <strong>Realtime GI</strong> by default. <strong>Baked GI</strong> is all precomputed; <strong>Realtime GI</strong> carries out some precomputation when indirect lighting is used. With both enabled, you then use each individual Light in your Scene to control which GI system it should use (in the Light component, use the <strong>Mode</strong> setting to do this). See documentation on the <a href="GlobalIllumination.html">Lighting window</a> and <a href="GIIntro.html">Global Illumination</a> to learn more.</p>

<p>The most flexible way to use the lighting system is to use <strong>Baked GI</strong> and <strong>Realtime GI</strong> together. However, this is also the most performance-heavy option. To make your game less resource-intensive, you can choose to disable <strong>Realtime GI</strong> or <strong>Baked GI</strong>. Note that doing this this reduces the flexibility and functionality of your lighting system.</p>

<p>To manually enable or disable Global Illumination, open the Lighting window (<strong>Window</strong> &gt; <strong>Lighting</strong> &gt; <strong>Settings</strong> &gt; <strong>Scene</strong>). Tick <strong>Realtime Global Illumination</strong> to enable <strong>Realtime GI</strong>, and tick <strong>Baked Global Illumination</strong> to enable <strong>Baked GI</strong>. Untick these checkboxes to disable the respective GI system. If any Lights are set to the mode you have disabled, they are are overridden and set to the active GI system.</p>

<h2>Per-light settings</h2>

<p>To set properties for each individual Light, select it in the Scene or Hierarchy window, then edit the settings on the <a href="class-Light.html">Light component</a> in the Inspector window.</p>

<p>The default <strong>Mode</strong> for each light is <strong>Dynamic</strong>. This means that the Light contributes direct lighting to your Scene, and Unity’s <strong>Realtime GI</strong> handles indirect lighting.</p>

<p>If you set the Light’s <strong>Mode</strong> to <strong>Static,</strong> then that Light only contributes lighting to Unity’s <strong>Baked GI</strong> system. Both direct and indirect lighting from those Lights are baked into light maps, and cannot be changed during gameplay.</p>

<p>If you set the Light’s <strong>Mode</strong> to <strong>Stationary</strong>, GameObjects marked as <strong>Static</strong> still include this light in their <strong>Baked GI</strong> light maps. However, unlike Lights marked as <strong>Static</strong>, <strong>Stationary</strong> Lights still contribute real-time lighting, based on the stationary bake mode in the Lighting window (menu: <strong>Window</strong> &gt; <strong>Lighting</strong> &gt; <strong>Settings</strong>). This is useful if you are using light maps in a static environment, but you still want a good integration between dynamic and light map static geometry.</p>

<figure>
<img src="../uploads/GlobalIllumination/LightBakingType.png" alt="A Directional Light with the Mode set to Dynamic.">
<figcaption>A Directional Light with the <strong>Mode</strong> set to <strong>Dynamic</strong>.</figcaption>
</figure>

<p>See documentation on <a href="https://docs.google.com/document/d/116JvLXljfbdfllOLlyzVvWmNWpbUwcYKV16blVHuS2E/edit?usp=sharing">Lighting Modes</a> for more details.</p>

<h2>GI cache</h2>

<p>In either Baked GI or Precomputed Realtime GI, Unity caches (stores) data about your scene lighting in the ‘GI Cache’, and will try to reuse this data whenever possible to save time during precompute. The number and nature of the changes you have made to your scene will determine how much of this data can be reused, if at all.</p>

<p>This cache is stored outside of your Unity project and can be cleared using (<strong>Preference</strong> &gt; <strong>GI Cache</strong> &gt; <strong>Clear Cache</strong>). Clearing this means that all stages of the precompute will need to be recalculated from the beginning and this can therefore be time consuming. However in some cases, where perhaps you need to reduce disk usage, this may be helpful.</p>

<h2>LOD for baked GI</h2>

<p>Level-of-detail is taken into consideration when Unity generates baked lightmaps. Direct lighting is computed using the actual surfaces of all LODs. Lower LOD levels use light probes to fetch indirect lighting. The resulting lighting is baked into lightmap.</p>

<p>This means that you should place light probes around your LODs to capture indirect lighting. The object will not use lightprobes at runtime if you use fully baked GI.</p>

<hr>

<ul>
<li><p><span class="page-edit"> 2017–06–08 Page published with limited <a href="DocumentationEditorialReview.html">editorial review</a> - <a href="LeaveFeedback.html">Leave page feedback</a>
</span></p></li>
<li><p><span class="page-history">Light Modes added in 5.6</span></p></li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="GIIntro.html"></a></span><div class="tip">Global Illumination</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="LightingBakedAmbientOcclusion.html"></a></span><div class="tip"> Baked ambient occlusion</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">
<user_feedback><a href="LeaveFeedback.html" target="_blank">Leave feedback</a></user_feedback><known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="https://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues>Copyright © 2017 Unity Technologies. Publication: 2017.1-001Q. Built: 2017-08-29.</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
