<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MC35ML');</script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Shadows</title>
<meta name="description" content="The Unity Manual helps you learn and use the Unity engine. With the Unity engine you can create 2D and 3D games, apps and experiences.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1503756017"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1503756017"></script><script type="text/javascript" src="docdata/toc.js?ts=1503756017"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1503756017"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1503756017">
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-number">Version: <b>2017.1</b> (<a href="https://docs.unity3d.com/2017.2/Documentation/Manual">switch to 2017.2b</a>)</div>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/ShadowOverview.html">English</a></li>
<li><a href="/ja/current/Manual/ShadowOverview.html">日本語</a></li>
<li><a href="/es/current/Manual/ShadowOverview.html">Español</a></li>
<li><a href="/kr/current/Manual/ShadowOverview.html">한국어</a></li>
<li><a href="/ru/current/Manual/ShadowOverview.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2017.1)</a></li>
<li><a href="Graphics.html">Graphics</a></li>
<li><a href="GraphicsOverview.html">Graphics Overview</a></li>
<li><a href="LightingOverview.html">Lighting</a></li>
<li><a href="Shadows.html">Shadows</a></li>
<li>Shadows</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="Shadows.html"></a></span><div class="tip">Shadows</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="DirLightShadows.html"></a></span><div class="tip">Directional light shadows</div>
</div>
</div></div>
<div class="otherversionswrapper" onmouseover="setOtherVersionsDisplay(true)" onmouseout="setOtherVersionsDisplay(false)">
<a>Other Versions</a><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">Cannot access other versions offline!</div>
</div>
<h1>Shadows</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity’s lights can cast <strong>Shadows</strong> from a GameObject onto other parts of itself or onto other nearby GameObjects. Shadows add a degree of depth and realism to a Scene, because they bring out the scale and position of GameObjects that can otherwise look flat.</p>

<figure>
<img src="../uploads/Main/ShadowIntro.png" alt="Scene with GameObjects casting shadows">
<figcaption>Scene with GameObjects casting shadows</figcaption>
</figure>

<h2>How do Shadows work?</h2>

<p>Consider a simple Scene with a single light source. Light rays travel in straight lines from that source, and may eventually hit GameObjects in the Scene. Once a ray has hit a GameObject, it can’t travel any further to illuminate anything else (that is, it “bounces” off the first GameObject and doesn’t pass through). The shadows cast by the GameObject are simply the areas that are not illuminated because the light couldn’t reach them.</p>

<figure>
<img src="../uploads/Main/ShadowMapIntro.svg" alt="">
</figure>

<p>Another way to look at this is to imagine a Camera at the same position as the light. The areas of the Scene that are in shadow are precisely those areas that the Camera can’t see.</p>

<figure>
<img src="../uploads/Main/ShadowLightsEyeView.svg" alt="A lights eye view of the same Scene">
<figcaption>A “light’s eye view” of the same Scene</figcaption>
</figure>

<p>In fact, this is exactly how Unity determines the positions of shadows from a light. The light uses the same principle as a Camera to “render” the Scene internally from its point of view. A depth buffer system, as used by Scene Cameras, keeps track of the surfaces that are closest to the light; surfaces in a direct line of sight receive illumination but all the others are in shadow. The depth map in this case is known as a <strong>Shadow Map</strong> (you may find the <a href="http://en.wikipedia.org/wiki/Shadow_mapping">Wikipedia Page</a> on shadow mapping useful for further information).</p>

<h2>Enabling Shadows</h2>

<p>Use the <strong>Shadow Type</strong> property in the Inspector to enable and define shadows for an individual light.</p>

<figure>
<img src="../uploads/Main/ShadowTypeInspector.svg" alt="">
</figure>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong><em>Property:</em></strong></th>
	<th style="text-align:left;"><strong><em>Function:</em></strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Shadow Type</strong></td>
	<td style="text-align:left;">The <strong>Hard Shadows</strong> setting produces shadows with a sharp edge. Hard shadows are not particularly realistic compared to <strong>Soft Shadows</strong> but they involve less processing, and are acceptable for many purposes. Soft shadows also tend to reduce the “blocky” aliasing effect from the shadow map.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Strength</strong></td>
	<td style="text-align:left;">This determines how dark the shadows are. In general, some light is scattered by the atmosphere and reflected off other GameObjects, so you usually don’t want shadows to be set to maximum strength.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Resolution</strong></td>
	<td style="text-align:left;">This sets the rendering resolution for the shadow map’s “Camera” mentioned above. If your shadows have very visible edges, then you might want to increase this value.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Bias</strong></td>
	<td style="text-align:left;">Use this to fine-tune the position and definition of your shadow. See <a href="#LightBias">Shadow mapping and the Bias property</a>, below, for more information.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Normal Bias</strong></td>
	<td style="text-align:left;">Use this to fine-tune the position and definition of your shadow. See <a href="#LightBias">Shadow mapping and the Bias property</a>, below, for more information.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Shadow Near Plane</strong></td>
	<td style="text-align:left;">This allows you to choose the value for the near plane when rendering shadows. GameObjects closer than this distance to the light do not cast any shadows.</td>
</tr>
</tbody>
</table>

<p>Each <a href="class-MeshRenderer.html">Mesh Renderer</a> in the Scene also has a <strong>Cast Shadows</strong> and a <strong>Receive Shadows</strong> property, which must be enabled as appropriate.</p>

<figure>
<img src="../uploads/Main/ShadowCastMeshInspector.svg" alt="">
</figure>

<p>Enable <strong>Cast Shadows</strong> by selecting <strong>On</strong> from the drop-down menu to enable or disable shadow casting for the mesh. Alternatively, select <strong>Two Sided</strong> to allow shadows to be cast by either side of the surface (so backface culling is ignored for shadow casting purposes), or <strong>Shadows Only</strong> to allow shadows to be cast by an invisible GameObject.</p>

<p><a name="LightBias"></a></p>

<h2>Shadow mapping and the Bias property</h2>

<p>The shadows for a given Light are determined during the final Scene rendering. When the Scene is rendered to the main Camera view, each pixel position in the view is transformed into the coordinate system of the Light. The distance of a pixel from the Light is then compared to the corresponding pixel in the shadow map. If the pixel is more distant than the shadow map pixel, then it is presumably obscured from the Light by another GameObject and it obtains no illumination.</p>

<figure>
<img src="../uploads/Main/ShadowBiasGood.jpg" alt="Correct shadowing">
<figcaption>Correct shadowing</figcaption>
</figure>

<p>A surface directly illuminated by a Light sometimes appears to be partly in shadow. This is because pixels that should be exactly at the distance specified in the shadow map are sometimes calculated as being further away (this is a consequence of using shadow filtering, or a low-resolution image for the shadow map). The result is arbitrary patterns of pixels in shadow when they should really be lit, giving a visual effect known as “shadow acne”.</p>

<figure>
<img src="../uploads/Main/ShadowBiasAcne.jpg" alt="Shadow acne in the form of false self-shadowing artifacts">
<figcaption>Shadow acne in the form of false self-shadowing artifacts</figcaption>
</figure>

<p>To prevent shadow acne, a <strong>Bias</strong> value can be added to the distance in the shadow map to ensure that pixels on the borderline definitely pass the comparison as they should, or to ensure that while rendering into the shadow map, GameObjects can be inset a little bit along their normals. These values are set by the <strong>Bias</strong> and <strong>Normal Bias</strong> properties in the <a href="class-Light.html">Light</a> Inspector window when shadows are enabled.</p>

<p>Do not set the <strong>Bias</strong> value too high, because areas around a shadow near the GameObject casting it are sometimes falsely illuminated. This results in a disconnected shadow, making the GameObject look as if it is flying above the ground.</p>

<figure>
<img src="../uploads/Main/ShadowBiasPeterPanning.jpg" alt="A high Bias value makes the shadow appear disconnected from the GameObject">
<figcaption>A high <strong>Bias</strong> value makes the shadow appear “disconnected” from the GameObject</figcaption>
</figure>

<p>Likewise, setting the <strong>Normal Bias</strong> value too high makes the shadow appear too narrow for the GameObject:</p>

<figure>
<img src="../uploads/Main/ShadowBiasTooThin.jpg" alt="A high Normal Bias value makes the shadow shape too narrow">
<figcaption>A high <strong>Normal Bias</strong> value makes the shadow shape too narrow</figcaption>
</figure>

<p>In some situations, <strong>Normal Bias</strong> can cause an unwanted effect called “light bleeding”, where light bleeds through from nearby geometry into areas that should be shadowed. A potential solution is to open the GameObject’s <a href="class-MeshRenderer.html">Mesh Renderer</a> and change the <strong>Cast Shadows</strong> property to <strong>Two Sided</strong>. This can sometimes help, although it can be more resource-instensive and increase performance overhead when rendering the Scene.</p>

<p>The bias values for a Light may need tweaking to make sure that unwanted effects occur. It is generally easier to gauge the right value by eye rather than attempting to calculate it.</p>

<p>To further prevent shadow acne we are using a technique known as <strong>Shadow pancaking</strong> (see <a href="DirLightShadows.html">Directional light shadows: Shadow pancaking</a>). This generally works well, but can create visual artifacts for very large triangles.</p>

<figure>
<img src="../uploads/Main/ShadowNearOffsetTooLow.png" alt="A low Shadow near plane offset value create the appearance of holes in shadows">
<figcaption>A low <strong>Shadow near plane offset</strong> value create the appearance of holes in shadows</figcaption>
</figure>

<p>Tweak the <strong>Shadow Near Plane Offset</strong> property to troubleshoot this problem. Setting this value too high introduces shadow acne.</p>

<figure>
<img src="../uploads/Main/ShadowNearOffsetOk.png" alt="Correct shadowing">
<figcaption>Correct shadowing</figcaption>
</figure>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="Shadows.html"></a></span><div class="tip">Shadows</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="DirLightShadows.html"></a></span><div class="tip">Directional light shadows</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">
<user_feedback><a href="LeaveFeedback.html" target="_blank">Leave feedback</a></user_feedback><known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="https://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues>Copyright © 2017 Unity Technologies. Publication: 2017.1-001Q. Built: 2017-08-29.</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
